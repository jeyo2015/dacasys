<div id="buscadorClinica">
    <input id="pac-input" type="text"
        placeholder="Buscar consultorio" ng-model="consultorioBuscar">
    <div id="listClinicas" style="max-height: 300px; overflow-y: auto" ng-show="mostrarConsultorios">
        <div class="divElementSearch" ng-repeat="clinica in consultoriosBuscador   |filterByWords:consultorioBuscar:'EsConsultorioDefault,IDConsultorio,TiempoCita,NIT,FechaCreacion,FechaModificacion,IDClinica,State,Telefonos,Trabajos,HorarioParaMapa,IDUsuarioCreador,Estado,Email,IDIntervalo'">
            <div class="col-md-12" style="padding: 7px 25px 0px 25px; font-size: 14px; height: 27px;" ng-click="seleccionarConsultorioBuscador(clinica)">
                <label style="font-weight: bold" class="cortar" title="{{clinica.NombreClinica}}">{{clinica.NombreClinica}}  </label>
            </div>
            <div class="col-md-12" style="padding: 0px 25px; font-size: 14px; height: 21px;" ng-click="seleccionarConsultorioBuscador(clinica)">
                <label style="font-size: 11px; color: #3B3B3C;" class="cortar" title="{{clinica.Login}} - {{clinica.NombreDoctor}}">Consultorio {{clinica.Login}} - {{clinica.NombreDoctor}}  </label>
            </div>
            <div class="col-md-12" style="padding: 0px 25px; font-size: 14px; height: 25px;" ng-click="seleccionarConsultorioBuscador(clinica)">
                <label style="font-size: 11px; color: #3B3B3C;" class="cortar" title="{{clinica.Direccion}}">Direccion  {{clinica.Direccion}} </label>
            </div>
        </div>

    </div>

</div>

<div class="col-md-10 col-xs-12 col-md-offset-1 divContentMap " min-heigth id="mapa">
</div>

<div class="modal fade" id="modal-ver-mas" data-backdrop="static" role="dialog">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <div class="row">
                    <div class="col-md-3 col-sm-3 col-xs-3 ">
                        <img class="col-md-12 col-sm-12 col-xs-12 " data-ng-src="{{clinicaSeleccionada.LogoParaMostrar}}" style="height: 80px" alt="" />
                    </div>
                    <div class="col-md-9 col-sm-9 col-xs-9 ">
                        <h4 style="font-weight: bold; margin-bottom: 0px" class="cortar" title="{{clinicaSeleccionada.Nombre}}">{{clinicaSeleccionada.Nombre}} </h4>
                        <span>{{clinicaSeleccionada.Descripcion}} </span>
                    </div>
                </div>
            </div>
            <div class="modal-body" style="min-height: 350px;">
                <div class="row">
                    <div class="navbar navbar-default ">
                        <div class="container-fluid" style="padding-right: 0px; padding-left:0px">
                            <div class="navbar-header">
                                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>
                            </div>
                            <div class="navbar-collapse collapse navbar-responsive-collapse">
                                <ul class="nav navbar-nav">
                                    <li ng-class="{'activeButton': mostrarPanel ==1 }" style="cursor: pointer"><a href="#" ng-click="mostrarInformacion($event)"><i class="fa fa-info iconMenu "></i>Informacion</a></li>
                                    <li ng-class="{'activeButton': mostrarPanel ==4 }" style="cursor: pointer"><a href="#" ng-click="mostrarHorarios($event)"><i class="fa fa-calendar iconMenu "></i>Horarios</a></li>
                                    <li ng-class="{'activeButton': mostrarPanel ==3 }" style="cursor: pointer"><a href="#" ng-click="mostrarComentarios($event)"><i class="fa fa-align-justify  iconMenu "></i>Comentarios</a></li>
                                    <li ng-class="{'activeButton': mostrarPanel ==2 }" style="cursor: pointer"><a href="#" ng-click="mostrarContactenos($event)"><i class="fa fa-phone iconMenu "></i>Contactenos</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-md-3 col-xs-3" style="padding-left: 10px;">
                        <button class="btn btn-primary" style="padding-right: 10px;padding-left: 10px;" ng-class="{'activeButton': mostrarPanel ==1 }" ng-click="mostrarInformacion()">Informacion</button>
                    </div>
                    <div class="col-md-3 col-xs-3"  >
                        <button class="btn btn-primary" style="padding-right: 10px;padding-left: 10px;" ng-class="{'activeButton': mostrarPanel ==4 }" ng-click="mostrarHorarios()">Horarios</button>
                    </div>
                   
                    <div class="col-md-3 col-xs-3"  >
                        <button class="btn btn-primary" style="padding-right: 10px;padding-left: 10px;" ng-click="mostrarComentarios()" ng-class="{'activeButton': mostrarPanel ==3 }">Comentarios</button>
                    </div>
                     <div class="col-md-3 col-xs-3"  >
                        <button class="btn btn-primary" style="padding-right: 10px;padding-left: 10px;" ng-click="mostrarContactenos()" ng-class="{'activeButton': mostrarPanel ==2 }">Contactenos</button>
                    </div>-->
                </div>
<div class="row" id="Div5" ng-show="mostrarPanel ==1 " style="min-height: 350px; max-height: 350px; overflow-y: auto">
                        <div class="col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1">
                            <div id="Div6" class="row">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Direccion </h5>
                                <h5 class="col-md-9 control-label">{{clinicaSeleccionada.Direccion}}</h5>

                            </div>
                            <div id="Div7" class="row">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Trabajos </h5>
                                <div class="col-md-9 control-label" style="max-height: 110px; overflow-y: auto">
                                    <div ng-repeat="trabajo in clinicaSeleccionada.Trabajos">
                                        <h5>{{trabajo.Descripcion}}</h5>
                                    </div>

                                </div>

                            </div>
                            <div id="Div8" class="row">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Telefonos </h5>
                                <div class="col-md-9 control-label" style="max-height: 110px; overflow-y: auto">
                                    <div ng-repeat="tele in clinicaSeleccionada.Telefonos">
                                        <h5>{{tele.Telefono}} - {{tele.Nombre}}</h5>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row" id="panelContactenos" ng-show="mostrarPanel ==2 " style="min-height: 350px; max-height: 350px; overflow-y: auto">
                        <div class="col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1">

                            <div id="Div1" class="form-group">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Email </h5>

                                <h5 class="col-md-9 control-label">{{consultorioSeleccionado.Email}}</h5>



                            </div>
                            <div id="Div2" class="form-group">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Email de </h5>

                                <input type="text" class="form-control" ng-model="emailDe" />



                            </div>
                            <div id="Div4" class="form-group">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Asunto</h5>

                                <input type="text" class="form-control" ng-model="asunto" />



                            </div>
                            <div id="Div3" class="form-group">
                                <h5 style="font-weight: bold" class="col-md-3 control-label">Mensaje </h5>

                                <textarea ng-model="mensajeContactenos" class="form-control " rows="5"></textarea>

                            </div>
                            <div class="row">

                                <button class="btn btn-primary pull-right" ng-disabled="mensajeContactenos.length == 0 || emailDe.length ==0|| asunto.length ==0" ng-click="enviarContactenos()">Enviar correo</button>
                            </div>
                        </div>
                    </div>
                    <div class="row" id="panelComentarios" ng-show="mostrarPanel ==3 " style="min-height: 350px; max-height: 350px; overflow-y: auto">

                        <div class="row">
                            <div class="form-group ">

                                <div class="col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1">
                                    <textarea ng-model="comentarioParaGuardar.Comentario" class="form-control col-md-12" style="width: 100%; max-width: 100%" id="usuarioID" maxlength="150" placeholder="Escribe un comentario..."> </textarea>
                                </div>
                                <div class="col-md-1">
                                    <span ng-click="guardarComentario()" ng-show="comentarioParaGuardar.Comentario.length >0"><i class="fa fa-paper-plane iconStyle"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1">
                                <div class="panel panel-primary" ng-repeat="comentario in ListaComentario">
                                    <div class="panel-heading">
                                        <h3 style="height: 12px" class="panel-title">{{comentario.NombrePaciente}} <span class="pull-right">{{comentario.FechaCreacion}}</span></h3>
                                    </div>
                                    <div class="panel-body">
                                        <label>{{comentario.Comentario}}</label>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row" id="panelHorario" ng-show="mostrarPanel ==4 " style="min-height: 350px">
                        <form class="form-horizontal">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="dtpFecha" class="col-md-3 control-label">Fecha</label>
                                        <div class="col-md-9">
                                            <input type="text" class="form-control" id="dtpFecha">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10 col-md-offset-1" style="max-height: 250px; overflow-y: auto; padding-right: 0;">
                                    <table class="table table-hover tableStyle">
                                        <thead>
                                            <tr>
                                                <th>Hora</th>
                                                <th>{{dateSelectedString}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="cita in citasDelDia  " ng-click="seleccionaCita(cita)" style="cursor: pointer;">
                                                <td>
                                                    <span class="label " ng-class="{'label-info':!cita.EstaOcupada && !cita.EsTarde , 'label-danger':cita.EstaOcupada && !cita.EsTarde , 'label-default':cita.EsTarde}">{{ cita.HoraInicioString}} </span>
                                                </td>

                                                <td><span ng-hide=" (sessionDto.IDConsultorio == -1 && sessionDto.loginUsuario.length == 0) || cita.LoginCliente != sessionDto.loginUsuario">{{cita.Paciente.NombrePaciente}} </span>
                                                    <span ng-show=" (sessionDto.IDConsultorio == -1 && sessionDto.loginUsuario.length == 0 && cita.EstaOcupada) || ( cita.LoginCliente != sessionDto.loginUsuario && cita.EstaOcupada) ">Ocupado</span>
                                                </td>
                                            </tr>
                                        </tbody>

                                    </table>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                    <!--<button class="btn btn-primary" ng-show="clinicaSeleccionada.Consultorios.length== 1" ng-click="mostrarModalComentario(clinicaSeleccionada.Consultorios[0])">Dejar comentario</button>-->
                    <!--<button class="btn btn-primary" ng-show="clinicaSeleccionada.Consultorios.length== 1" ng-click="mostrarModalHorarios(clinicaSeleccionada.Consultorios[0])">Agendar cita</button>-->
                    <!-- <button class="btn btn-primary" ng-click="cerrarModalVerMas()">Cerrar</button>-->
                </div>
            </div>

        </div>
    </div>


<div class="modal fade" id="enviar-notificacion" data-backdrop="static" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Enviar solicitud</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <label>Usted no pertenece a este consultorio. Desea enviar una solicitud para pertenecer al consultorio? </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="enviarNotificacion()">Enviar solicitud</button>
                <button class="btn btn-danger" ng-click="cerrarSolicitud()">Cancelar</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modalconfirmarCita" data-backdrop="static" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Confirmar cita</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <label>Esta seguro que quiere agendar una cita el dia {{dateSelected}} a las {{citaSeleted.HoraInicioString}}</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="agendarCita()">Agendar</button>
                <button class="btn btn-danger" ng-click="cerraModalConfirmCita()">Cancelar</button>
            </div>
        </div>
    </div>
</div>




<div class="modal fade" id="modal-seleccionar-consultorio" data-backdrop="static" role="dialog">
    <div class="modal-dialog ">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Consultorios de {{clinicaSeleccionada.Nombre}}</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="form-group label-floating">
                                    <label for="buscarPacienteID" class="col-md-2 control-label">Buscar</label>
                                    <div class="col-md-10">
                                        <input type="text" ng-model="subString" class="form-control" id="buscarPacienteID">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-10 row" style="max-height: 200px; overflow-y: auto; padding-right: 0px;">
                                <table class="table table-hover tableStyle">
                                    <thead>
                                        <tr>
                                            <th>Consultorio</th>
                                            <th>Doctor </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="cursor: pointer" ng-class="{selectElement:consultorio.Login==consultorioSeleccionado.Login}" ng-repeat="consultorio in clinicaSeleccionada.Consultorios " ng-click="seleccionarConsultorioClinica(consultorio)">
                                            <td>{{consultorio.Login}}
                                            </td>
                                            <td>{{consultorio.NombreDoctor}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-disabled="consultorioSeleccionado==null" ng-click="abrirModalVerMasConsultorio()">Ver consultorio</button>

            </div>
        </div>
    </div>
</div>
