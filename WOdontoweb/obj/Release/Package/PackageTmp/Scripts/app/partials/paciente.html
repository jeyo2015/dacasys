<div class="col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1 divContent" min-heigth ng-controller="pacienteController" ng-show="validarPermisoFormulario('frmPacientes')">
    <div class="col-md-10 col-xs-12 col-md-offset-1">
        <div class="col-md-5 col-xs-11 ">
            <div class="row">
                <div class="form-group label-floating">
                    <label for="buscarPacienteID" class="col-md-2 col-xs-2  control-label">Buscar</label>
                    <div class="col-md-10 col-xs-10">
                        <input type="text" ng-model="subString" class="form-control" id="buscarPacienteID">
                    </div>
                </div>
            </div>
            <div class="row" style="margin-top: 15px;">
                <div class="col-md-12 col-xs-12" style="max-height: 440px; overflow-y: auto; padding-right: 0px;">
                    <table class="table table-hover tableStyle">
                        <thead>
                            <tr>
                                <th>Login</th>
                                <th>Nombre</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-class="{selectElement:clienteSelected.LoginCliente==cliente.LoginCliente}" ng-repeat="cliente in ListaCliente |filterByWords:subString:'IDPaciente,IDEmpresa,Estado,IsPrincipal,Sexo,TipoSangre,Email,Telefono,Ci,Direccion,Antecedentes,Nombre,Apellido'" ng-click="seleccionarCliente(cliente)">
                                <td>{{cliente.LoginCliente}}</td>
                                <td>{{cliente.NombrePaciente}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <button class="btn btn-raised btn-danger" ng-click="openModalConfirmDelele()" ng-disabled="clienteSelected == null || !validarPermisoComponente('btnEliminarCliente')">Eliminar</button>
            </div>
        </div>
        <div class="col-md-6 col-md-offset-1 col-xs-11">
            <div class="row">
                <div class="col-md-6"></div>
            </div>
            <div class="row">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="login" class="col-md-3 control-label">Login:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="20" ng-model="pacienteParaGuardar.LoginCliente" class="form-control" id="login" ng-disabled="!validarCliente()">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="ci" class="col-md-3 control-label">CI:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="10" ng-model="pacienteParaGuardar.Ci" class="form-control" id="ci">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="nombre" class="col-md-3 control-label">Nombre:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="30" ng-model="pacienteParaGuardar.Nombre" class="form-control" id="nombre">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="apellido" class="col-md-3 control-label">Apellido:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="30" ng-model="pacienteParaGuardar.Apellido" class="form-control" id="apellido">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="direccion" class="col-md-3 control-label">Direccion:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="30" ng-model="pacienteParaGuardar.Direccion" class="form-control" id="direccion">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email" class="col-md-3 control-label">Email:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="30" ng-model="pacienteParaGuardar.Email" class="form-control" id="email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="antecedentes" class="col-md-3 control-label">Antecedentes:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="50" ng-model="pacienteParaGuardar.Antecedentes" class="form-control" id="antecedentes">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="telefono" class="col-md-3 control-label">Telefono:</label>
                        <div class="col-md-9">
                            <input type="text" maxlength="10" ng-model="pacienteParaGuardar.Telefono" class="form-control" id="telefono">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="selectSexo" class="col-md-3 control-label">Genero:</label>
                        <div class="col-md-9">
                            <select class="form-control" id="selectSexo" ng-model="selectSexo">
                                <option value="F" selected="selected">Femenino</option>
                                <option value="M">Masculino</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="selectTipoSangre" class="col-md-3 control-label">Tipo Sangre:</label>
                        <div class="col-md-9">
                            <select class="form-control" id="selectTipoSangre" ng-model="selectTipoSangre">
                                <option value="O+" selected="selected">O+</option>
                                <option value="A+">A+</option>
                                <option value="B+">B+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" ng-hide="pacienteParaGuardar.State==1">
                        <label class="col-md-3 control-label">Pacientes del Cliente</label>
                        <div class="col-md-8 col-xs-8">
                            <table id="pacientes" class="table table-hover tableStyle scroll">
                                <thead>
                                    <tr>
                                        <th>Paciente</th>
                                        <th>CI</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="paciente in ListaPaciente" ng-click="seleccionarPaciente(paciente)">
                                        <td>{{paciente.NombrePaciente}}</td>
                                        <td>{{paciente.Ci}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-1 col-xs-1 ">
                            <span ng-click="nuevoPaciente()" ng-show="validarPermisoComponente('btnNuevoPaciente')"><i class="fa fa-plus-circle iconStyle"></i></span>
                            <span ng-show="pacienteSelected != null && validarPermisoComponente('btnEliminarPaciente')" ng-click="openModalConfirmDelele()" style="display: none;"><i class="fa fa-trash iconStyle"></i></span>
                        </div>
                    </div>
                    <div class="col-md-9 col-xs-12 col-md-offset-3 ">
                        <button class="btn btn-raised btn-primary" ng-click="nuevoCliente()" ng-disabled="!validarPermisoComponente('btnNuevoCliente')">Nuevo</button>
                        <button class="btn btn-raised btn-primary" ng-click="guardarPaciente()" ng-disabled="validarCamposPaciente()">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="confirm-delete" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">Eliminar paciente</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label>¿Esta seguro que quiere eliminar el registro?</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" ng-click="eliminarRegistro()">Si</button>
                    <button class="btn btn-danger" ng-click="closeWarnig()">No</button>
                </div>
            </div>
        </div>
    </div>
</div>
